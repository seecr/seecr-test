test -f /etc/debian_version && export DISTRO="debian" DISTRO_VERSION=$(cat /etc/debian_version | cut -d. -f1 | cut -d/ -f1 )
test -f /etc/redhat-release && export DISTRO="redhat" DISTRO_VERSION=$(cat /etc/redhat-release | sed -e 's,^[^0-9]*\([0-9]\).*$,\1,')

function distro_version_name {
# Echo the name of the current linux distribution.
    declare -a DEBIAN_NAME=("" "" "" "" "" "lenny" "squeeze" "wheezy" "jessie")
    declare -a CENTOS_NAME=("" "" "" "" "" "centos5" "centos6")
    if distro_is_debian; then
        numberRe="^[0-9]+([.][0-9]+)?$"
        if ! [[ ${DISTRO_VERSION} =~ ${numberRe} ]]; then
            echo ${DISTRO_VERSION}
        else
            echo ${DEBIAN_NAME[${DISTRO_VERSION}]}
        fi
    elif distro_is_redhat; then
        echo ${CENTOS_NAME[${DISTRO_VERSION}]}
    else
        echo "unknown"
    fi
}

function distro_is_debian {
# Test if current distribution is Debian.
    test "${DISTRO}" == "debian"
}
function distro_is_redhat {
# Test if current distribution is Redhat/Centos.
    test "${DISTRO}" == "redhat"
}

function distro_is_debian_etch {
# Test if current distribution is Debian Etch.
    distro_is_debian && test "${DISTRO_VERSION}" == "4" 
}

function distro_is_debian_lenny {
# Test if current distribution is Debian Lenny.
    distro_is_debian && test "${DISTRO_VERSION}" == "5" 
}

function distro_is_debian_squeeze {
# Test if current distribution is Debian Squeeze.
    distro_is_debian && test "${DISTRO_VERSION}" == "6"
}

function distro_is_debian_wheezy {
# Test if current distribution is Debian Wheezy.
    distro_is_debian && test "${DISTRO_VERSION}" == "7"
}

function distro_is_debian_jessie {
# Test if current distribution is Debian Jessa.
    distro_is_debian && test "${DISTRO_VERSION}" == "8" || test "${DISTRO_VERSION}" = "jessie"
}

function distro_is_centos_5 {
# Test if current distribution is Centos 5.
    distro_is_redhat && test "${DISTRO_VERSION}" == "5"
}

function distro_is_centos_6 {
# Test if current distribution is Centos 6.
    distro_is_redhat && test "${DISTRO_VERSION}" == "6"
}

# vim: set syntax=sh: #
